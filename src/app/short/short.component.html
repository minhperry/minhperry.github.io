<h1>Shorten your URL</h1>

<div class="wrapper">

    <p class="display">
        <a href="{{ shortUrl }}" target="_blank">s.7278008.xyz/{{key}}</a>
        &nbsp;âžœ&nbsp;
        {{ shortUrl }}
    </p>

    <mat-form-field class="key field">
        <mat-label>Link key</mat-label>
        <input matInput type="text" [(ngModel)]="key"
            maxlength="20"
            [formControl]="keyFormControl"
            [errorStateMatcher]="matcher"
            placeholder="Enter key">
        <mat-hint align="end"> {{ key.length }} / 20</mat-hint>
        <mat-error *ngIf="keyFormControl.hasError('required')">Key is required</mat-error>
        <mat-error *ngIf="keyFormControl.hasError('pattern')">
            Key can only contain characters, numbers and . - _ &commat;
        </mat-error>
    </mat-form-field>

    <p>{{isHttps ? 'https://' : 'http://'}}</p>
    <mat-form-field class="url field">
        <mat-label>URL</mat-label>
        <input matInput type="text" [(ngModel)]="shortUrl"
            maxlength="1000"
            [formControl]="urlFormControl"
            [errorStateMatcher]="matcher"
            placeholder="Enter URL">
        <mat-hint align="end"> {{ shortUrl.length }} / 1000</mat-hint>
        <mat-error *ngIf="urlFormControl.hasError('required')">URL is required</mat-error>
        <mat-error *ngIf="urlFormControl.hasError('pattern')">
            URL is not valid! Must start with http:// or https://
        </mat-error>

        <mat-icon matSuffix (click)="isHttps=!isHttps">{{isHttps ? 'lock' : 'lock_open'}}</mat-icon>
    </mat-form-field>

    <button mat-raised-button color="primary" (click)="send()">Shorten</button>
</div>